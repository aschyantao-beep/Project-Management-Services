# 项目管理大师 - 完整技术需求文档

**版本:** 2.0  
**日期:** 2025年1月11日  
**更新说明:** 根据用户反馈补充了非功能性需求、用户体验细节等

---

## 1. 项目/功能概述 (Overview)

创建一个单用户、无需登录的个人项目管理Web应用。以仪表盘为中心，帮助用户创建、跟踪、完成和复盘个人项目。

---

## 2. 核心功能点 (Core Features)

- **仪表盘视图**: 首页卡片形式展示四个核心模块概览
- **项目创建**: 通过对话框快速创建新项目
- **项目详情**: 完整视图包括基本信息、任务清单、时间线、复盘
- **项目生命周期管理**: 状态流转（规划中→进行中→已完成→已搁置）
- **项目日历视图**: 直观展示项目排期
- **新增**: 项目名称搜索、项目模板保存、进度统计图表

---

## 3. 技术规格 (Technical Specifications)

### 3.1 前端 (Frontend)

#### 页面/组件结构
- `DashboardPage`: 主页仪表盘
  - `HeaderComponent`: 应用标题和新建项目按钮
  - `LatestProjectsCard`: 最新10个项目列表
  - `InProgressCard`: 进行中项目总数
  - `CompletedCard`: 已完成项目总数
  - `MiniCalendarCard`: 小型日历预览
  - **新增**: `SearchComponent`: 项目名称搜索框
  - **新增**: `StatisticsCard`: 进度统计图表
- `ProjectListPage`: 项目列表页（支持筛选排序）
- `ProjectDetailPage`: 项目详情页
  - `ProjectInfoPanel`: 基本信息展示
  - `TodoListPanel`: 任务清单管理
  - `TimelinePanel`: 项目动态时间线
  - `RetrospectivePanel`: 复盘总结
- `FullCalendarPage`: 完整日历视图
- `NewProjectModal`: 新建项目对话框
- **新增**: `ProjectTemplateModal`: 项目模板保存/加载

#### 用户流程更新
1. 用户可在搜索框输入关键词，实时筛选项目
2. 创建项目时可选择保存为模板
3. 新建项目时可从模板快速加载
4. 仪表盘新增统计图表展示完成情况

### 3.2 后端 (Backend)

#### API 接口更新

**项目 (Projects)**: 
- `GET /api/projects`: 获取项目列表
  - 支持查询参数：`?status=InProgress&search=关键词&sort=date`
- `POST /api/projects`: 创建项目
- `GET /api/projects/{id}`: 获取项目详情
- `PUT /api/projects/{id}`: 更新项目
- **新增**: `GET /api/projects/statistics`: 获取项目统计数据

**项目模板 (Project Templates)**:
- **新增**: `GET /api/templates`: 获取所有模板
- **新增**: `POST /api/templates`: 保存为模板
- **新增**: `GET /api/templates/{id}`: 获取模板详情

**任务 (Tasks)**:
- `POST /api/projects/{projectId}/tasks`: 创建任务
- `PUT /api/tasks/{taskId}`: 更新任务状态

**动态 (Timeline)**:
- `POST /api/projects/{projectId}/timeline`: 添加动态

**数据导出 (Export)**:
- **新增**: `GET /api/export`: 导出所有项目数据为JSON

#### 数据模型更新

**Project 表**:
```sql
id: 主键
title: 项目主题 (必填)
goal: 项目目标
manager: 负责人
participants: 参与人
status: 状态 (Planning/InProgress/Completed/OnHold)
priority: 优先级 (High/Medium/Low, 默认Medium)
start_date: 开始日期
end_date: 结束日期 (必须≥开始日期)
retrospective_good: 复盘优点
retrospective_improve: 复盘待改进
created_at: 创建时间
updated_at: 更新时间
```

**Task 表**:
```sql
id: 主键
project_id: 外键
content: 任务内容
is_completed: 是否完成 (默认false)
created_at: 创建时间
```

**TimelineEvent 表**:
```sql
id: 主键
project_id: 外键
comment: 动态内容
created_at: 创建时间
```

**ProjectTemplate 表** (新增):
```sql
id: 主键
name: 模板名称
title_template: 项目标题模板
goal_template: 目标模板
default_tasks: 默认任务列表 (JSON)
created_at: 创建时间
```

---

## 4. 非功能性需求 (Non-functional Requirements)

### 4.1 性能要求
- 项目数量上限: 1000个
- 页面响应时间: ≤5秒
- 支持并发: 单用户，无并发要求

### 4.2 兼容性
- 浏览器: Chrome 80+, Firefox 75+, Edge 80+
- 设备: 仅桌面端，不支持移动端响应式

### 4.3 数据管理
- 数据导出: 支持导出为JSON格式
- 数据初始化: 首次使用加载2个示例项目
- 数据存储: 使用SQLite，存储在用户文档目录

### 4.4 部署方式
- 本地运行: http://localhost:5000
- 无需外网访问
- 数据库文件存储在用户文档目录

---

## 5. 用户体验细节 (UX Details)

### 5.1 表单验证
- 项目名称: 必填，无长度限制
- 日期验证: 结束日期必须≥开始日期
- 优先级: 默认为"中"

### 5.2 操作反馈
- 所有操作显示toast提示:
  - 成功: 绿色提示，2秒自动消失
  - 失败: 红色提示，需手动关闭
- 加载状态: 显示加载动画

### 5.3 确认对话框
- 删除项目: "确定删除项目'{项目名称}'吗？"
- 标记完成: "确定将项目标记为已完成吗？"
- 删除任务: 无需确认

### 5.4 搜索和筛选
- 搜索: 项目名称模糊搜索，实时响应
- 筛选: 按状态、优先级筛选
- 排序: 支持按日期、优先级排序

### 5.5 错误处理
- 网络异常: 显示离线提示 + 使用缓存数据
- 表单错误: 字段级实时验证提示
- 系统错误: 统一错误页面

---

## 6. 扩展功能 (Extended Features)

### 6.1 项目模板
- 可将现有项目保存为模板
- 新建项目时可选择模板快速填充
- 系统内置2个通用模板

### 6.2 进度统计
- 仪表盘显示:
  - 项目完成率饼图
  - 月度项目完成情况柱状图
  - 优先级分布图
- 项目详情页显示任务完成进度条

### 6.3 数据导出
- 支持导出所有项目数据为JSON
- 包含项目、任务、时间线完整数据
- 可用于备份或迁移

---

## 7. 技术栈建议

- **前端**: Vue.js 3 + Element Plus
- **后端**: Python Flask
- **数据库**: SQLite
- **图表库**: ECharts (用于统计图表)
- **日期处理**: dayjs
- **UI组件**: Element Plus (提供日历、对话框等)

---

## 8. 开发计划 (Updated)

### 第一阶段: 基础功能 (优先级高)
1. 环境搭建和项目初始化
2. 后端基础API开发 (项目CRUD)
3. 前端仪表盘和项目列表
4. 项目详情页基础功能
5. 数据导出功能

### 第二阶段: 用户体验优化 (优先级中)
1. 表单验证和错误处理
2. 搜索和筛选功能
3. 操作反馈和确认对话框
4. 网络异常处理

### 第三阶段: 扩展功能 (优先级低)
1. 项目模板功能
2. 进度统计图表
3. 示例数据初始化
4. 性能优化

---

## 9. 注意事项

1. **数据安全**: 虽然是本地使用，建议定期导出备份
2. **浏览器缓存**: 合理利用本地存储提升体验
3. **版本兼容**: 后续升级需考虑数据迁移
4. **错误日志**: 关键操作记录到浏览器控制台便于调试

---

这份更新的需求文档涵盖了所有我们讨论的功能点。你可以按照开发计划分阶段实现，从基础功能开始逐步完善。有任何疑问随时联系我！